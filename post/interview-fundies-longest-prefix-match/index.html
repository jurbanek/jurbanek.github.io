<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Next Year&rsquo;s Gartner MQ Leader in Enterprise Network Security
 Given Given the following simplified IPv4 route table:
Network Netmask Gateway------------ ------------- -----------0.0.0.0 0.0.0.0 172.16.1.1010.0.0.0 255.0.0.0 172.16.1.2010.0.0.0 255.255.255.0 172.16.1.3010.128.0.0 255.252.0.0 172.16.1.4010.128.0.0 255.255.0.0 172.16.1.5010.128.132.0 255.255.254.0 172.16.1.60 Question   To reach 8.8.8.8 what gateway will be chosen? To reach 10.128.0.10 what gateway will be chosen? To reach 10.128.134.52 what gateway will be chosen?'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Interview Fundies: Longest Prefix Match • Urbanek.io'>
<meta property='og:description' content='Next Year&rsquo;s Gartner MQ Leader in Enterprise Network Security
 Given Given the following simplified IPv4 route table:
Network Netmask Gateway------------ ------------- -----------0.0.0.0 0.0.0.0 172.16.1.1010.0.0.0 255.0.0.0 172.16.1.2010.0.0.0 255.255.255.0 172.16.1.3010.128.0.0 255.252.0.0 172.16.1.4010.128.0.0 255.255.0.0 172.16.1.5010.128.132.0 255.255.254.0 172.16.1.60 Question   To reach 8.8.8.8 what gateway will be chosen? To reach 10.128.0.10 what gateway will be chosen? To reach 10.128.134.52 what gateway will be chosen?'>
<meta property='og:url' content='https://www.urbanek.io/post/interview-fundies-longest-prefix-match/'>
<meta property='og:site_name' content='Urbanek.io'>
<meta property='og:type' content='article'><meta property='article:section' content='post'><meta property='article:tag' content='interview'><meta property='article:tag' content='network'><meta property='article:tag' content='route'><meta property='article:tag' content='fundies'><meta property='article:published_time' content='2020-01-30T23:14:48-06:00'/><meta property='article:modified_time' content='2020-01-30T23:14:48-06:00'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.69.2" />

  <title>Interview Fundies: Longest Prefix Match • Urbanek.io</title>
  <link rel='canonical' href='https://www.urbanek.io/post/interview-fundies-longest-prefix-match/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.6a060eb7.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-166720177-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>
<body class='page type-post has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
      <a href='/'>
      Urbanek.io
      </a>
    </h2>
    <div class='desc'>
    At the interstice of technology and humanity
    </div>
  </header>

</section>
<section class='widget widget-sidebar_menu sep-after'><nav id='sidebar-menu' class='menu sidebar-menu' aria-label='Sidebar Menu'>
    <div class='container'>
      <ul><li class='item'>
  <a href='/'>Home</a></li><li class='item'>
  <a href='/categories/technology/'>Technology</a></li><li class='item'>
  <a href='/categories/humanity/'>Humanity</a></li><li class='item'>
  <a href='/about/'>About</a></li></ul>
    </div>
  </nav>

</section><section class='widget widget-taxonomy_cloud sep-after'>
  <header>
    <h4 class='title widget-title'>Tags</h4>
  </header>

  <div class='container list-container'>
  <ul class='list taxonomy-cloud'><li>
        <a href='/tags/cautionary-tale/' style='font-size:1em'>cautionary tale</a>
      </li><li>
        <a href='/tags/cisco/' style='font-size:1em'>cisco</a>
      </li><li>
        <a href='/tags/culture/' style='font-size:1.5em'>culture</a>
      </li><li>
        <a href='/tags/efficiency/' style='font-size:1em'>efficiency</a>
      </li><li>
        <a href='/tags/engineering/' style='font-size:2em'>engineering</a>
      </li><li>
        <a href='/tags/excel/' style='font-size:1em'>excel</a>
      </li><li>
        <a href='/tags/firepower/' style='font-size:1em'>firepower</a>
      </li><li>
        <a href='/tags/fundies/' style='font-size:1.5em'>fundies</a>
      </li><li>
        <a href='/tags/generation-loss/' style='font-size:1em'>generation loss</a>
      </li><li>
        <a href='/tags/interview/' style='font-size:1em'>interview</a>
      </li><li>
        <a href='/tags/language/' style='font-size:1.5em'>language</a>
      </li><li>
        <a href='/tags/network/' style='font-size:1em'>network</a>
      </li><li>
        <a href='/tags/powershell/' style='font-size:1em'>powershell</a>
      </li><li>
        <a href='/tags/route/' style='font-size:1em'>route</a>
      </li></ul>
</div>


</section>
</div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Urbanek.io</p><p class='desc site-desc'>At the interstice of technology and humanity</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Interview Fundies: Longest Prefix Match</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2020-01-30T23:14:48-06:00'>2020, Jan 30</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
3 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  
<figure>
   <a href="#80d4977c6a6e15f0dad8ba3c3dca2b2e-lightbox">
      <img src="EthernetCable.png"
            alt="Next Year&amp;rsquo;s Gartner MQ Leader in Enterprise Network Security" width="600"/> 
   </a><figcaption>
         <p>Next Year&rsquo;s Gartner MQ Leader in Enterprise Network Security</p>
      </figcaption>
</figure>
<a href="#_" class="lightbox" id="80d4977c6a6e15f0dad8ba3c3dca2b2e-lightbox">
   <img src="EthernetCable.png" alt="Next Year&amp;rsquo;s Gartner MQ Leader in Enterprise Network Security" >
</a>
<h2 id="given">Given</h2>
<p>Given the following <em>simplified</em> IPv4 route table:</p>
<pre><code>Network          Netmask           Gateway
------------     -------------     -----------
0.0.0.0          0.0.0.0           172.16.1.10
10.0.0.0         255.0.0.0         172.16.1.20
10.0.0.0         255.255.255.0     172.16.1.30
10.128.0.0       255.252.0.0       172.16.1.40
10.128.0.0       255.255.0.0       172.16.1.50
10.128.132.0     255.255.254.0     172.16.1.60
</code></pre>
<h2 id="question">Question</h2>
<blockquote>
<ol>
<li>To reach <code>8.8.8.8</code> what gateway will be chosen?</li>
<li>To reach <code>10.128.0.10</code> what gateway will be chosen?</li>
<li>To reach <code>10.128.134.52</code> what gateway will be chosen?</li>
<li>What is the longest prefix in the table?</li>
<li>What is the shortest prefix in the table?</li>
</ol>
</blockquote>
<hr>
<p>Regularly, I devise a similar example on the whiteboard during an interview to assess routing fundamentals. More than one &ldquo;credentialed&rdquo; Network Engineer has answered incorrectly. Even worse, they answer correctly, but <em>cannot</em> answer the obligatory next question:</p>
<blockquote>
<p>Why?</p>
</blockquote>
<p>Routing tables are not evaluated top-down like an access control list. Instead, the table is evaluated and the longest prefix match is the winner.</p>
<blockquote>
<p><small>Practical routing in hardware or as implemented in software contains more layers than described in this simple example. For example, our simple example does not differentiate between a routing table (one per routing protocol) and forwarding table (a separate table composed of the best routes across all route tables includes longest prefix match, administrative distance, and other parameters). The example is simply probing for fundamental understanding of <a href="https://en.wikipedia.org/wiki/Longest_prefix_match">longest prefix match</a> which requires fundamental understanding of <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">variable-length subnet masking (VLSM)</a>. If a candidate fails at longest prefix match, additional routing questioning is often moot.</small></p>
</blockquote>
<h2 id="explain">Explain</h2>
<h3 id="q1">Q1</h3>
<blockquote>
<ol>
<li>To reach <code>8.8.8.8</code> what gateway will be chosen?</li>
</ol>
</blockquote>
<p><strong><code>172.16.1.10</code></strong></p>
<p>The <em><code>8.8.8.8</code></em> destination <em>only</em> falls within one (1) of the prefixes: the default route <code>0.0.0.0/0</code> with next-hop gateway <code>172.16.1.10</code>.</p>
<h3 id="q2">Q2</h3>
<blockquote>
<ol start="2">
<li>To reach <code>10.128.0.10</code> what gateway will be chosen?</li>
</ol>
</blockquote>
<p><strong><code>172.16.1.50</code></strong></p>
<p>The <code>10.128.0.10</code> destination falls within (&ldquo;matches&rdquo;) four (4) of the prefixes: <code>0.0.0.0/0</code>, <code>10.0.0.0/8</code>, <code>10.128.0.0/14</code>, and <code>10.128.0.0/16</code>.</p>
<p>The longest matching prefix is <code>10.128.0.0/16</code> with next-hop gateway <code>172.16.1.50</code>.</p>
<h3 id="q3">Q3</h3>
<blockquote>
<ol start="3">
<li>To reach <code>10.128.134.52</code> what gateway will be chosen?</li>
</ol>
</blockquote>
<p><strong><code>172.16.1.50</code></strong></p>
<p>The <code>10.128.134.52</code> destination falls within (&ldquo;matches&rdquo;) four (4) of the prefixes: <code>0.0.0.0/0</code>, <code>10.0.0.0/8</code>, <code>10.128.0.0/14</code>, and <code>10.128.0.0/16</code>.</p>
<p>The longest matching prefix is <code>10.128.0.0/16</code> with next-hop gateway <code>172.16.1.50</code>.</p>
<p><em>Note: <code>10.128.134.52</code> destination does <strong>not</strong> match the <code>10.128.132.0/23</code> prefix.</em></p>
<h3 id="q4">Q4</h3>
<blockquote>
<ol start="4">
<li>What is the longest prefix in the table?</li>
</ol>
</blockquote>
<p><strong><code>10.0.0.0/24</code></strong></p>
<p><code>10.0.0.0/24</code> is the longest prefix in the table given its 24 network bits. The <em>second</em> longest prefix in the table is <code>10.128.132.0/23</code> given its 23 network bits.</p>
<h3 id="q5">Q5</h3>
<blockquote>
<ol start="5">
<li>What is the shortest prefix in the table?</li>
</ol>
</blockquote>
<p><strong><code>0.0.0.0/0</code></strong></p>
<p><code>0.0.0.0/0</code> is the shortest prefix in the table given its 0 network bits. <code>0.0.0.0/0</code> prefix always represents the <em>default route</em> and the next-hop gateway for a default route (<code>172.16.1.10</code> in our example) is also called a <em>gateway of last resort</em>.</p>
<p>The <em>second</em> shortest prefix in the table is <code>10.0.0.0/8</code> with its 8 network bits.</p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/technology/'>technology</a></div>
<div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/interview/'>interview</a>, <a class='tag' href='/tags/network/'>network</a>, <a class='tag' href='/tags/route/'>route</a>, <a class='tag' href='/tags/fundies/'>fundies</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/post/they-call-her-lina/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>They Call Her LINA</a>
    </div><div class='next-entry sep-before'>
      <a href='/post/agenda-time-planning/'>
        <span class='screen-reader-text'>Next post: </span>Agenda Time Planning<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/jurbanek' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/jurbanek' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p> &copy; 2017-2020 John Urbanek </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="/assets/js/"</script>

<script src='/assets/js/main.67d669ac.js'></script><script src='/js/custom.js'></script>

</body>

</html>

